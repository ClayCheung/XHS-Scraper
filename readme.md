# XHS-Scraper

## 简介

使用 Python 和 Selenium 实现的一个工具，功能如下：

- 打开小红书网站
- 等待用户扫码登录，直到页面刷新
- 在搜索框中输入指定的搜索内容
- 选择前 N 条笔记（默认为3，可通过命令行参数指定），获取每条笔记的以下信息：
  - 标题
  - 作者
  - 内容
  - 点赞数量
  - 评论及其回复
- 支持通过命令行参数指定搜索内容和笔记数量

### 使用方法

1. 安装依赖：
   - 确保已安装 Python 和 Selenium
   - 下载并安装相应的 WebDriver（如 ChromeDriver）

2. 运行脚本：
   ```bash
   python main.py -q "搜索内容" -n 3
   ```
   - `-q`或`--query`：指定搜索内容（必需）
   - `-n`或`--number`：指定获取的笔记数量（可选，默认为3）
   - `-c`或`--comments`：指定获取的评论数量（可选，默认为5）
   - `-r`或`--replies`：指定获取的回复数量（可选，默认为5）
   - `--json`：指定输出JSON格式（可选）

3. 扫码登录小红书，等待页面刷新后，脚本将自动执行搜索并获取笔记信息。

### 注意事项

- 确保 WebDriver 版本与浏览器版本匹配。
- 脚本会在获取笔记信息后返回搜索结果页，并继续处理下一条笔记。
- 运行脚本时，请确保网络连接正常，以便访问小红书网站。

### Roadmap
- [X] 获取笔记信息：作者、标题、内容、点赞数、评论以及回复
- [X] 展开评论回复
- [X] 指定展开的回复数量，指定获取的评论及回复数量
- [ ] 获取作者的概览信息（用于后续流程中 LLM 对创作者的类型进行判断，例如判断为商户或职业自媒体等，从而给笔记增加分数权重）
- [ ] 识别笔记图片中的内容：计划集成 OCR，自动识别笔记图片中的问题或特定内容。
- [ ] 识别笔记视频中的内容：计划使用视频处理和OCR技术，提取笔记视频中的文字信息。

### 免责声明

本项目仅用于学习和研究目的。请勿将其用于任何违反小红书平台条款或法律法规的活动。用户需自行承担使用本项目所带来的风险和责任。
